
<!DOCTYPE html>
<html lang="bn">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Khulnarshop.xyz - আধুনিক স্টাইলে বৃষ্টি উপভোগ করুন</title>
	<script src="https://cdn.tailwindcss.com"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.22.9/babel.min.js"></script>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Bengali:wght@400;700;900&family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet" />
	<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" referrerpolicy="no-referrer" rel="stylesheet" /><meta name="theme-color" content="#10B981">

<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1395349864990911'); // Assuming Pixel ID remains same or should be updated by user
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=1395349864990911&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getDatabase, ref, push, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
  // WARNING: Storing API keys directly in client-side code is a security risk.
  // Consider using environment variables or a backend proxy.
  const firebaseConfig = {
    apiKey: "AIzaSyCyf9mTmbnXTB4hdsQpePNY-Hdgt347GPY", // User-provided, kept as is
    authDomain: "krishighar.firebaseapp.com", // Should ideally be updated for khulnarshop.xyz
    databaseURL: "https://krishighar-default-rtdb.firebaseio.com", // Should ideally be updated
    projectId: "krishighar", // Should ideally be updated
    storageBucket: "krishighar.firebasestorage.app", // Should ideally be updated
    messagingSenderId: "587381600768", // Should ideally be updated
    appId: "1:587381600768:web:157abdd3b20a3e4f23dee5" // Should ideally be updated
  };
  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);
  window.firebaseUtils = { database, ordersRef: ref(database, 'orders'), push, serverTimestamp };
</script>

</head>
<body class="bg-gradient-to-br from-green-100 via-emerald-50 to-lime-50 font-['Hind_Siliguri'] text-gray-800">
<div id="root"></div>
<script type="text/babel">
    // Custom Hook for Intersection Observer (No change from original)
    function useIntersectionObserver(options, runOnce = true) {
        const [entry, setEntry] = React.useState(null);
        const [node, setNode] = React.useState(null);
        const observer = React.useRef(null);

        React.useEffect(() => {
            if (observer.current) {
                observer.current.disconnect();
            }

            observer.current = new window.IntersectionObserver(([entry]) => {
                if (entry.isIntersecting) {
                    setEntry(entry);
                    if (runOnce && observer.current) {
                        observer.current.unobserve(entry.target);
                    }
                }
            }, options);

            const { current: currentObserver } = observer;
            if (node) {
                currentObserver.observe(node);
            }

            return () => {
                if (currentObserver) {
                    currentObserver.disconnect();
                }
            };
        }, [node, options, runOnce]);

        return [setNode, entry];
    }

    // Component to wrap sections for scroll-triggered animation (No change from original)
    const AnimatedSection = ({ children, className, threshold = 0.1, delay = "delay-0" }) => {
        const [ref, entry] = useIntersectionObserver({ threshold: threshold }, true);
        const isVisible = !!entry?.isIntersecting;

        return (
            <div
                ref={ref}
                className={${className || ''} transition-all duration-700 ease-out ${delay} ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'}}
            >
                {children}
            </div>
        );
    };

    function OrderForm({ isOpen, onClose, recommendedUnits }) {
        const [name, setName] = React.useState('');
        const [phone, setPhone] = React.useState('');
        const [address, setAddress] = React.useState('');
        const [quantityUnits, setQuantityUnits] = React.useState(1); // Changed from quantityKg
        const [isSubmitted, setIsSubmitted] = React.useState(false);
        const [isLoading, setIsLoading] = React.useState(false);

        const PRICE_PER_UNIT = 350; // Example price for umbrella, update as needed
        const DELIVERY_FEE = 0; // Assuming free delivery, update as needed

        React.useEffect(() => {
            let initialUnits = 1;
            if (recommendedUnits) { // Changed from recommendedKg
                const units = parseInt(String(recommendedUnits).replace('unit', '')); // Generic unit parsing
                if (!isNaN(units) && units > 0) {
                    initialUnits = units;
                }
            }
            setQuantityUnits(initialUnits);
        }, [recommendedUnits, isOpen]);


        if (!isOpen) return null;

        const handleQuantityChange = (e) => {
            const value = e.target.value;
            if (value === "") {
                setQuantityUnits("");
            } else {
                const numValue = parseInt(value);
                setQuantityUnits(isNaN(numValue) ? "" : numValue);
            }
        };

        const currentQuantity = parseInt(quantityUnits);
        const subTotal = (isNaN(currentQuantity) || currentQuantity < 1) ? 0 : currentQuantity * PRICE_PER_UNIT;
        const totalAmount = subTotal + DELIVERY_FEE;

        const handleSubmit = async (e) => {
            e.preventDefault();
            const finalQuantityUnits = parseInt(quantityUnits);
            if (isNaN(finalQuantityUnits) || finalQuantityUnits < 1) {
                alert("দয়া করে কমপক্ষে ১টি ছাতার পরিমাণ উল্লেখ করুন।"); // Updated message
                if (isNaN(finalQuantityUnits)) setQuantityUnits(1);
                else if (finalQuantityUnits < 1) setQuantityUnits(1);
                return;
            }
            setIsLoading(true);
            const orderData = {
                name: name, phone: phone, address: address, quantity: finalQuantityUnits, // Changed from quantityKg
                pricePerUnit: PRICE_PER_UNIT, subTotal: finalQuantityUnits * PRICE_PER_UNIT,
                deliveryFee: DELIVERY_FEE, totalAmount: (finalQuantityUnits * PRICE_PER_UNIT) + DELIVERY_FEE,
                status: "Pending", orderTimestamp: window.firebaseUtils.serverTimestamp(),
                product_id: 'TRANSPARENT_UMBRELLA_STD', // Updated product ID
                product_name: 'Transparent Umbrella' // Updated product name
            };
            try {
                await window.firebaseUtils.push(window.firebaseUtils.ordersRef, orderData);
                setIsSubmitted(true);
                if (typeof fbq === 'function') {
                    fbq('track', 'Purchase', {
                        value: orderData.totalAmount,
                        currency: 'BDT',
                        content_ids: [orderData.product_id],
                        content_name: orderData.product_name,
                        content_type: 'product',
                        num_items: orderData.quantity, // Changed from quantityKg
                    });
                }
            } catch (error) {
                console.error("Firebase এ অর্ডার পাঠাতে সমস্যা হয়েছে:", error);
                alert("দুঃখিত, অর্ডারটি সম্পন্ন করা যায়নি। অনুগ্রহ করে আবার চেষ্টা করুন।");
            } finally {
                setIsLoading(false);
            }
        };

        return (
            <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity duration-300 ease-in-out" onClick={onClose}>
                <div
                    className="bg-white/95 backdrop-blur-md p-5 sm:p-7 rounded-2xl shadow-2xl w-full max-w-md transform transition-all duration-500 scale-100 border border-green-400/50"
                    onClick={(e) => e.stopPropagation()}
                >
                    <button onClick={onClose} className="absolute top-3 right-3 text-gray-500 hover:text-green-600 text-2xl z-10">
                        <i className="fas fa-times-circle"></i>
                    </button>
                    {!isSubmitted ? (
                        <>
                            <h2 className="text-xl sm:text-2xl font-bold mb-5 text-center text-green-700 font-['Noto_Serif_Bengali']">অর্ডার করুন</h2>
                            <form onSubmit={handleSubmit} className="space-y-3.5">
                                <div className="relative">
                                    <input type="text" id="name" placeholder=" " value={name} onChange={(e) => setName(e.target.value)} className="peer w-full p-2.5 pt-4 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:outline-none bg-transparent text-gray-800 text-sm sm:text-base placeholder-transparent" required />
                                    <label htmlFor="name" className="absolute left-2.5 top-0.5 text-gray-500 text-xs transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:top-3 peer-focus:top-0.5 peer-focus:text-xs peer-focus:text-green-600">আপনার নাম</label>
                                </div>
                                <div className="relative">
                                    <input type="tel" id="phone" placeholder=" " value={phone} onChange={(e) => setPhone(e.target.value)} className="peer w-full p-2.5 pt-4 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:outline-none bg-transparent text-gray-800 text-sm sm:text-base placeholder-transparent" required />
                                    <label htmlFor="phone" className="absolute left-2.5 top-0.5 text-gray-500 text-xs transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:top-3 peer-focus:top-0.5 peer-focus:text-xs peer-focus:text-green-600">ফোন নম্বর</label>
                                </div>
                                 <div className="relative">
                                    <input type="text" id="address" placeholder=" " value={address} onChange={(e) => setAddress(e.target.value)} className="peer w-full p-2.5 pt-4 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:outline-none bg-transparent text-gray-800 text-sm sm:text-base placeholder-transparent" required />
                                    <label htmlFor="address" className="absolute left-2.5 top-0.5 text-gray-500 text-xs transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:top-3 peer-focus:top-0.5 peer-focus:text-xs peer-focus:text-green-600">সম্পূর্ণ ঠিকানা</label>
                                </div>
                                <div className="relative">
                                    <input type="number" id="quantityUnits" placeholder=" " value={quantityUnits} onChange={handleQuantityChange} min="1" className="peer w-full p-2.5 pt-4 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:outline-none bg-transparent text-gray-800 text-sm sm:text-base placeholder-transparent" required />
                                    <label htmlFor="quantityUnits" className="absolute left-2.5 top-0.5 text-gray-500 text-xs transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:top-3 peer-focus:top-0.5 peer-focus:text-xs peer-focus:text-green-600">ছাতার পরিমাণ (টি)</label> {/* Updated Label */}
                                </div>

                                <div className="pt-2 space-y-1.5 text-sm sm:text-base">
                                    <p className="flex justify-between"><span>ছাতার দাম:</span> <span className="font-semibold">{subTotal.toLocaleString('bn-BD')} ৳</span></p> {/* Updated Label */}
                                    <p className="flex justify-between">
                                        <span>ডেলিভারি ফি:</span>
                                        <span className="font-semibold">
                                            {DELIVERY_FEE > 0 ? ${DELIVERY_FEE.toLocaleString('bn-BD')} ৳ : 'ফ্রি'}
                                        </span>
                                    </p>
                                    <hr className="my-1 border-green-200"/>
                                    <p className="flex justify-between text-base sm:text-lg"><strong>মোট পরিশোধযোগ্য:</strong> <strong className="text-green-600">{totalAmount.toLocaleString('bn-BD')} ৳</strong></p>
                                </div>

                                <div className="flex justify-between gap-2.5 pt-2">
                                    <button type="button" onClick={onClose} className="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition duration-300 flex-1 text-sm font-semibold" disabled={isLoading}>বাতিল</button>
                                    <button type="submit" className="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-emerald-700 transition duration-300 flex-1 text-sm font-semibold shadow-md hover:shadow-lg disabled:opacity-70" disabled={isLoading}>
                                        {isLoading ? <><i className="fas fa-spinner fa-spin mr-1.5"></i>প্রসেসিং...</> : "অর্ডার কনফার্ম করুন"}
                                    </button>
                                </div>
                            </form>
                        </>
                    ) : (
                        <div className="text-center py-8">
                            <i className="fas fa-check-circle text-green-500 text-5xl mb-3"></i>
                            <h3 className="text-xl font-semibold text-green-700 mb-1.5">অর্ডার সফলভাবে পাঠানো হয়েছে!</h3>
                            <p className="text-gray-700 text-sm mb-5">আমাদের প্রতিনিধি শীঘ্রই আপনার সাথে যোগাযোগ করে আপনার পছন্দের ছাতাটি পৌঁছে দেবে। ধন্যবাদ!</p> {/* Updated message */}
                            <button onClick={() => { setIsSubmitted(false); setQuantityUnits(1); onClose(); }} className="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-2 rounded-lg hover:from-green-600 hover:to-emerald-700 transition duration-300 font-semibold text-sm">বন্ধ করুন</button>
                        </div>
                    )}
                </div>
            </div>
        );
    }

    function AiPackageAssistant({ setRecommendedUnits, openForm }) { // Prop changed to setRecommendedUnits
        const [currentStep, setCurrentStep] = React.useState(0);
        const [answers, setAnswers] = React.useState({ usage: '', people: '', style: '' }); // Adjusted keys
        const [isCalculating, setIsCalculating] = React.useState(false);

        const questions = [
            { q_short: "ব্যবহার?", icon: 'fas fa-cloud-showers-heavy', question: 'বৃষ্টির দিনে প্রায়ই বাইরে যান?', options: [{ label: 'হ্যাঁ, প্রায়ই', value: 'often' }, { label: 'মাঝে মাঝে', value: 'sometimes' }, { label: 'খুব কম', value: 'rarely' }], key: 'usage' },
            { q_short: "ব্যবহারকারী?", icon: 'fas fa-users', question: 'সাধারণত কয়জনের জন্য ছাতা ব্যবহার করেন?', options: [{ label: '১ জন', value: 'single' }, { label: '২ জন', value: 'couple' }, { label: 'পুরো পরিবার', value: 'family' }], key: 'people' },
            { q_short: "স্টাইল?", icon: 'fas fa-palette', question: 'আপনার কাছে স্টাইল কতটা গুরুত্বপূর্ণ?', options: [{ label: 'খুব বেশি', value: 'very_important' }, { label: 'মোটামুটি', value: 'important' }, { label: 'তেমন না', value: 'not_important' }], key: 'style' }
        ];
        
        // Removed kgMapping as it's not relevant for umbrellas generally

        const handleAnswer = (key, value) => {
            setAnswers(prev => ({ ...prev, [key]: value }));
            setIsCalculating(true);
            setTimeout(() => {
                setCurrentStep(prev => prev + 1);
                setIsCalculating(false);
            }, 600);
        };

        const calculateRecommendation = () => {
            // Simplified logic for umbrellas, can be expanded
            // For now, it always suggests '1unit' as a generic recommendation
            const recUnits = '1unit'; // Generic recommendation, can be 1, 2 etc.
            setRecommendedUnits(recUnits); // Prop function called
            return recUnits;
        };

        const recommendation = currentStep >= questions.length ? calculateRecommendation() : null; // Changed variable name

        return (
            <section className="py-8 sm:py-10 bg-gradient-to-br from-emerald-100 via-green-100 to-teal-100 rounded-2xl shadow-xl mx-2 sm:mx-auto max-w-xl relative z-10 border-2 border-emerald-400 shadow-emerald-300/30">
                <div className="container mx-auto px-3 sm:px-4">
                    <div className="flex items-center justify-center mb-3 sm:mb-4">
                        <i className="fas fa-brain text-3xl sm:text-4xl text-emerald-600 mr-2.5"></i>
                        <h2 className="text-lg sm:text-xl font-bold text-center text-emerald-700 font-['Noto_Serif_Bengali']">আপনার জন্য সেরা ছাতা কোনটি?</h2> {/* Updated Title */}
                    </div>
                    <p className="text-center text-gray-700 mb-4 sm:mb-5 text-xs sm:text-sm max-w-md mx-auto">
                        কোন ছাতাটি আপনার জন্য সঠিক বুঝতে পারছেন না? কয়েকটি সহজ প্রশ্নের উত্তর দিন, আমরা আপনাকে সাহায্য করবো!
                    </p> {/* Updated Text */}
                    <div className="relative min-h-[200px] sm:min-h-[220px] bg-white/70 backdrop-blur-sm p-3 sm:p-4 rounded-xl shadow-inner border border-emerald-200/80">
                        <div className="flex justify-center mb-3.5 space-x-1.5">
                            {questions.map((q, index) => (
                                <div key={index} title={q.q_short} className={w-2 h-2 rounded-full transition-all duration-500 cursor-help ${index < currentStep ? 'bg-emerald-500' : index === currentStep ? 'bg-emerald-500 scale-125 ring-1.5 ring-emerald-300' : 'bg-gray-300'}}></div>
                            ))}
                        </div>

                        {isCalculating && currentStep < questions.length && (
                            <div className="absolute inset-0 flex flex-col items-center justify-center bg-white/70 backdrop-blur-sm z-10 rounded-xl">
                                <i className="fas fa-cogs fa-spin text-2xl text-emerald-500 mb-2"></i>
                                <p className="text-emerald-700 text-sm font-semibold">বিশ্লেষণ চলছে...</p>
                            </div>
                        )}

                        {questions.map((q, index) => (
                            <div key={index} className={absolute w-full left-0 px-3 sm:px-4 transition-all duration-700 ease-in-out transform ${index === currentStep ? 'opacity-100 translate-y-0' : 'opacity-0 pointer-events-none -translate-y-10'}}>
                                {index === currentStep && !isCalculating && (
                                    <div className="text-center">
                                        <div className="flex items-center justify-center text-emerald-600 mb-2.5">
                                            <i className={${q.icon} text-xl mr-1.5}></i>
                                            <p className="text-sm sm:text-base font-semibold text-emerald-700">{q.question}</p>
                                        </div>
                                        <div className="grid grid-cols-1 gap-2 mt-3 max-w-xs mx-auto">
                                            {q.options.map((option) => (
                                                <button
                                                    key={option.value}
                                                    onClick={() => handleAnswer(q.key, option.value)}
                                                    className="w-full text-center p-2 sm:p-2.5 bg-gradient-to-r from-emerald-50 to-green-100 rounded-lg shadow-sm hover:from-emerald-100 hover:to-green-200 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-1 focus:ring-emerald-400 border border-emerald-200 hover:border-emerald-300"
                                                >
                                                    <span className="text-xs sm:text-sm font-medium text-gray-800">{option.label}</span>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                )}
                            </div>
                        ))}
                        {currentStep >= questions.length && recommendation && !isCalculating && (
                            <div className="animate-fade-in text-center p-3 sm:p-4 bg-gradient-to-br from-emerald-100 to-green-200 rounded-xl shadow-md border border-emerald-300/70">
                                <i className="fas fa-lightbulb text-yellow-500 text-3xl sm:text-4xl mb-2"></i>
                                <h3 className="text-base sm:text-lg font-bold text-emerald-800 mb-1 font-['Noto_Serif_Bengali']">AI সুপারিশ:</h3>
                                <p className="text-sm sm:text-base font-semibold text-gray-800 mb-1">
                                    আপনার জন্য আমাদের ট্রান্সপারেন্ট ছাতা একটি <span className="text-green-700 font-extrabold text-lg sm:text-xl block">দারুণ পছন্দ হবে!</span> {/* Generic recommendation text */}
                                </p>
                                <p className="text-xs text-gray-600 mb-2.5">এই ছাতাটি আপনার চাহিদা পূরণ করবে!</p> {/* Updated Text */}
                                <button
                                    onClick={() => openForm(recommendation)} // Pass recommendation (e.g., '1unit')
                                    className="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-5 py-2 rounded-lg hover:from-green-600 hover:to-emerald-700 font-semibold text-xs sm:text-sm transition duration-300 transform hover:scale-105 shadow-md hover:shadow-lg"
                                >
                                    <i className="fas fa-check-circle mr-1"></i> এই ছাতাটি অর্ডার করুন
                                </button> {/* Updated Button Text */}
                            </div>
                        )}
                    </div>
                    {(currentStep < questions.length || !recommendation) && !isCalculating && (
                         <div className="text-center mt-5">
                            <button
                                onClick={() => openForm("1unit")} // Default to 1 unit
                                className="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-2.5 rounded-lg hover:from-green-600 hover:to-emerald-700 font-semibold text-sm sm:text-base transition duration-300 transform hover:scale-105 shadow-lg"
                            >
                                <i className="fas fa-shopping-cart mr-2"></i> এখনই অর্ডার করুন
                            </button>
                        </div>
                    )}
                </div>
            </section>
        );
    }

    const FeatureCard = ({ icon, title, desc }) => ( // This component is used for "Benefits"
        <div className="relative p-4 sm:p-5 bg-white/90 backdrop-blur-md rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5 border border-green-200/60 overflow-hidden group">
            <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-green-400 to-emerald-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            <div className="flex items-center mb-2">
                <i className={${icon} text-2xl text-green-600 mr-3}></i>
                <h3 className="text-md sm:text-lg font-semibold text-green-800 font-['Noto_Serif_Bengali']">{title}</h3>
            </div>
            <p className="text-xs sm:text-sm text-gray-700 leading-relaxed">{desc}</p>
        </div>
    );

    const WhyChooseUsItem = ({ icon, title, desc }) => ( // This component is used for "Why Choose Us"
        <li className="flex items-start gap-2.5 p-2.5 bg-white/40 rounded-lg hover:bg-green-50/60 transition-colors duration-300 border border-green-100">
            <i className={${icon} text-green-600 text-lg sm:text-xl mt-0.5}></i>
            <div>
                <strong className="text-sm sm:text-base text-gray-800 font-semibold">{title}:</strong>
                <span className="text-xs sm:text-sm text-gray-700"> {desc}</span>
            </div>
        </li>
    );

    const ProductImageGallery = ({ images, openForm }) => { // Renamed for clarity
        if (!images || images.length === 0) return null;

        return (
            <section className="py-8 sm:py-10 bg-gradient-to-b from-white via-green-50 to-emerald-50">
                <div className="container mx-auto px-2 sm:px-4">
                    <h2 className="text-xl sm:text-2xl font-bold text-center mb-5 sm:mb-6 text-green-800 font-['Noto_Serif_Bengali']">আমাদের ট্রান্সপারেন্ট ছাতার কিছু ছবি</h2> {/* Updated Title */}
                    <div className="flex overflow-x-auto space-x-3 sm:space-x-4 pb-3 -mx-2 px-2">
                        {images.map((imgSrc, index) => (
                            <div key={index} className="min-w-[180px] sm:min-w-[220px] bg-white rounded-xl shadow-lg p-2.5 flex flex-col items-center transform transition-all duration-300 hover:scale-105 border border-green-100">
                                <img src={imgSrc} alt={ট্রান্সপারেন্ট ছাতা ছবি ${index + 1}} className="w-full h-32 sm:h-40 object-cover rounded-lg mb-2.5"/> {/* Updated Alt Text */}
                                <button
                                    onClick={() => openForm("1unit")} // Default to 1 unit
                                    className="w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white px-3 py-2 rounded-md hover:from-green-600 hover:to-emerald-700 font-semibold text-xs sm:text-sm transition duration-300 shadow-sm hover:shadow-md"
                                >
                                    <i className="fas fa-shopping-cart mr-1.5"></i> অর্ডার করুন
                                </button>
                            </div>
                        ))}
                    </div>
                </div>
            </section>
        );
    };

    function MobileBottomNav() {
        const phoneNumber = "01798687328"; // Updated Phone Number
        const whatsappMessage = encodeURIComponent("আমি আপনাদের ট্রান্সপারেন্ট ছাতা সম্পর্কে জানতে চাই।"); // Updated WhatsApp Message

        return (
            <div className="fixed bottom-0 left-0 right-0 bg-white shadow-top-lg p-2.5 border-t border-slate-200 flex justify-around items-center z-40 md:hidden">
                <a
                    href={https://wa.me/88${phoneNumber}?text=${whatsappMessage}}
                    target="_blank"
                    rel="noopener noreferrer"
                    className="flex flex-col items-center text-emerald-600 hover:text-emerald-800 transition-colors duration-200 px-3 py-1 rounded-md"
                >
                    <i className="fab fa-whatsapp text-2xl"></i>
                    <span className="text-xs mt-0.5 font-medium">WhatsApp</span>
                </a>
                <a
                    href={tel:+88${phoneNumber}}
                    className="flex flex-col items-center text-green-600 hover:text-green-800 transition-colors duration-200 px-3 py-1 rounded-md"
                >
                    <i className="fas fa-phone-alt text-xl"></i>
                    <span className="text-xs mt-0.5 font-medium">কল করুন</span>
                </a>
            </div>
        );
    }


    function App() {
        const [isFormOpen, setIsFormOpen] = React.useState(false);
        const [aiRecommendedUnits, setAiRecommendedUnits] = React.useState(''); // Changed from aiRecommendedKg
        const contactPhoneNumber = "01798687328"; // Updated Phone Number

        const imageSources = {
            transparentLeavesPattern: "https://www.transparenttextures.com/patterns/leaves.png", // Kept as is
            heroProduct: "https://i.imgur.com/XYXG32o.jpeg", 
            gallery: [ 
                "https://i.imgur.com/rENIj5p.jpeg",
                "https://i.imgur.com/UoQUgq8.jpeg",
                "https://i.imgur.com/DEe0zcz.jpeg"
            ],
            logo: "https://i.imgur.com/Wl5wyD2.jpeg" // Keeping old logo as no new one provided. Replace if available.
        };

        const openOrderForm = (recommendedUnits = '1unit') => { // Changed parameter name
            setAiRecommendedUnits(recommendedUnits);
            setIsFormOpen(true);
            if (typeof fbq === 'function') {
                const tempQuantity = recommendedUnits ? parseInt(String(recommendedUnits).replace('unit','')) || 1 : 1;
                const tempSubTotal = tempQuantity * 350; // Using example price
                const tempTotal = tempSubTotal + 0; // Assuming 0 delivery fee

                fbq('track', 'InitiateCheckout', {
                    value: tempTotal,
                    currency: 'BDT',
                    content_ids: ['TRANSPARENT_UMBRELLA_STD'], 
                    content_name: 'Transparent Umbrella', 
                    content_type: 'product',
                    num_items: tempQuantity
                });
            }
        };

        const closeOrderForm = () => setIsFormOpen(false);

        // "Benefits" section content (using FeatureCard component)
        const productBenefits = [ // Changed from benefits for mangoes
            { icon: 'fas fa-eye', title: 'সম্পূর্ণ ট্রান্সপারেন্ট', desc: 'ক্লিয়ার ভিউ ডিজাইন, চারপাশের সৌন্দর্য উপভোগ করুন বৃষ্টিতেও।' },
            { icon: 'fas fa-feather-alt', title: 'হালকা ও বহনযোগ্য', desc: 'ওজনে হালকা হওয়ায় সহজে বহন করা যায়, স্কুল-কলেজ বা অফিসে নেওয়ার জন্য আদর্শ।' },
            { icon: 'fas fa-magic', title: 'স্টাইলিশ হ্যান্ডেল', desc: 'আকর্ষণীয় ও আরামদায়ক হ্যান্ডেল, যা আপনার ফ্যাশনে যোগ করবে নতুন মাত্রা।' },
            { icon: 'fas fa-shield-alt', title: 'বৃষ্টি ও UV সুরক্ষা', desc: 'শক্তিশালী কাঠামো বৃষ্টি ও ক্ষতিকর সূর্যরশ্মি থেকে আপনাকে সুরক্ষিত রাখে।' },
            { icon: 'fas fa-venus-mars', title: 'সবার জন্য মানানসই', desc: 'ছেলেমেয়ে উভয়ের ব্যবহার উপযোগী, আধুনিক ও ক্লাসিক ডিজাইন।' },
            { icon: 'fas fa-sync-alt', title: 'টেকসই ও মজবুত', desc: 'প্রিমিয়াম কোয়ালিটির উপকরণে তৈরি, যা দীর্ঘদিন ব্যবহারের নিশ্চয়তা দেয়।' }
        ];

        // "Why Choose Us" section content (using WhyChooseUsItem component)
        const whyChooseKhulnarshop = [ // Changed from whyChooseUsPoints for mangoes
            { icon: 'fas fa-check-circle', title: 'দৃষ্টিনন্দন ডিজাইন', desc: 'সম্পূর্ণ ট্রান্সপারেন্ট ও ক্লিয়ার ভিউ, যা আধুনিকতার ছোঁয়া দেয়।' },
            { icon: 'fas fa-thumbs-up', title: 'প্রিমিয়াম কোয়ালিটি', desc: 'টেকসই কাঠামো ও উন্নত মানের উপকরণে তৈরি।' },
            { icon: 'fas fa-shipping-fast', title: 'দ্রুত ডেলিভারি', desc: 'সারা দেশে দ্রুততম সময়ে আপনার ঠিকানায় পৌঁছে দেওয়ার ব্যবস্থা।' }, // Generic point
            { icon: 'fas fa-headset', title: 'ग्राहक সেবা', desc: 'যেকোনো প্রয়োজনে আমাদের সার্বক্ষণিক গ্রাহক সহায়তা প্রস্তুত।' }, // Generic point
            { icon: 'fas fa-undo-alt', title: 'সহজ রিটার্ন', desc: 'পণ্যে কোনো সমস্যা থাকলে সহজ শর্তে পরিবর্তনের সুযোগ (শর্ত প্রযোজ্য)।' }, // Generic point
            { icon: 'fas fa-lock', title: 'নিরাপদ কেনাকাটা', desc: 'নিশ্চিন্তে অর্ডার করুন, আপনার তথ্য আমাদের কাছে সুরক্ষিত।' } // Generic point
        ];


        return (
            <React.Fragment>
                <div className="min-h-screen relative pb-16 md:pb-0 overflow-x-hidden">
                    <header className="bg-gradient-to-br from-green-600 via-emerald-500 to-green-700 text-white py-10 sm:py-12 relative overflow-hidden">
                        <div className="absolute inset-0" style={{ backgroundImage: url('${imageSources.transparentLeavesPattern}'), opacity: 0.1 }}></div>
                        <div className="container mx-auto text-center relative z-10 px-4">
                            <h1 className="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-2 sm:mb-3 tracking-tight drop-shadow-lg font-['Noto_Serif_Bengali'] initial-fade-in-up">Khulnarshop.xyz এর আধুনিক ট্রান্সপারেন্ট ছাতা</h1> {/* Updated Title */}
                            <p className="text-md sm:text-lg md:text-xl text-green-100 drop-shadow-md max-w-xl mx-auto initial-fade-in-up initial-delay-200">স্টাইল, সুরক্ষা, এবং স্বচ্ছতা—সব এক ছাতায়! বৃষ্টি হোক বা রোদ, থাকুন ফ্যাশনেবল।</p> {/* Updated Tagline */}
                        </div>
                    </header>

                    <section className="container mx-auto py-8 sm:py-10 px-4 text-center">
                        <div className="relative mx-auto mb-6 sm:mb-8 max-w-lg group initial-scale-up">
                            <img src={imageSources.heroProduct} alt="স্টাইলিশ ট্রান্সপারেন্ট ছাতা" className="rounded-2xl shadow-xl w-full transition-all duration-500 group-hover:scale-105 border-2 border-white"/> {/* Updated Image & Alt */}
                            <div className="absolute -inset-2 bg-gradient-to-r from-green-300/40 to-emerald-500/40 opacity-25 blur-lg rounded-2xl -z-10 group-hover:opacity-40 transition-opacity duration-500"></div>
                        </div>
                        <div className="initial-fade-in-up initial-delay-400">
                            <h2 className="text-2xl sm:text-3xl font-bold mb-3 sm:mb-4 text-gray-800 drop-shadow-sm font-['Noto_Serif_Bengali']">আধুনিক স্টাইলে বৃষ্টি উপভোগ করুন</h2> {/* Product Title */}
                            <p className="text-sm sm:text-base mb-4 sm:mb-6 text-gray-700 max-w-2xl mx-auto leading-relaxed">
                                আমাদের ট্রান্সপারেন্ট ছাতা নিয়ে আসুন আধুনিকতার এক নতুন অভিজ্ঞতায়। দৃষ্টিনন্দন ডিজাইন, প্রিমিয়াম কোয়ালিটি ও টেকসই কাঠামো—সবকিছু একসাথে। এই ছাতা আপনাকে দেবে প্রয়োজনীয় সুরক্ষা এবং একই সাথে ফ্যাশনের ছোঁয়া। (ডেলিভারি চার্জ <strong className="text-green-600">ফ্রি</strong>) {/* Updated Description, price removed, delivery kept */}
                            </p>
                            <button
                                onClick={() => openOrderForm('1unit')}
                                className="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-7 py-2.5 sm:px-8 sm:py-3 rounded-lg hover:from-green-600 hover:to-emerald-700 font-semibold text-base sm:text-lg transition duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
                            >
                                <i className="fas fa-shopping-basket mr-2"></i> এখনই অর্ডার করুন
                            </button> {/* Updated Button Text */}
                        </div>
                    </section>
                    
                    <AnimatedSection threshold={0.2}>
                        <ProductImageGallery images={imageSources.gallery} openForm={openOrderForm} />
                    </AnimatedSection>
                    
                    <AnimatedSection threshold={0.2} delay="delay-200">
                         <AiPackageAssistant setRecommendedUnits={setAiRecommendedUnits} openForm={openOrderForm} />
                    </AnimatedSection>

                    <AnimatedSection threshold={0.1}>
                        <section className="py-8 sm:py-10 px-4 bg-gradient-to-b from-white/70 to-green-50/40">
                          <div className="container mx-auto">
                            <h2 className="text-xl sm:text-2xl font-bold text-center mb-5 sm:mb-7 text-gray-800 drop-shadow-sm font-['Noto_Serif_Bengali']">কেন Khulnarshop.xyz থেকে ছাতা কিনবেন?</h2> {/* Updated Title */}
                            <ul className="list-none mx-auto max-w-2xl space-y-3 sm:space-y-3.5">
                                {whyChooseKhulnarshop.map((item, index) => ( // Updated list
                                    <AnimatedSection key={index} threshold={0.1} delay={delay-${index * 100 > 500 ? 500 : index * 100}}>
                                        <WhyChooseUsItem icon={item.icon} title={item.title} desc={item.desc} />
                                    </AnimatedSection>
                                ))}
                            </ul>
                            <div className="text-center mt-8 sm:mt-10">
                                <button
                                    onClick={() => openOrderForm('1unit')}
                                    className="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-7 py-2.5 sm:px-8 sm:py-3 rounded-lg hover:from-green-600 hover:to-emerald-700 font-semibold text-base sm:text-lg transition duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
                                >
                                    <i className="fas fa-shopping-cart mr-2"></i> অর্ডার করুন
                                </button>
                            </div>
                          </div>
                        </section>
                    </AnimatedSection>

                    <AnimatedSection threshold={0.1}>
                        <section className="container mx-auto pt-6 pb-8 sm:pt-8 sm:pb-10 px-4">
                             <h2 className="text-xl sm:text-2xl font-bold text-center mb-5 sm:mb-7 text-gray-800 drop-shadow-sm font-['Noto_Serif_Bengali']">ট্রান্সপারেন্ট ছাতার বিশেষত্ব</h2> {/* Updated Title */}
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3.5 sm:gap-4">
                                {productBenefits.map((item, index) => ( // Updated list
                                   <AnimatedSection key={index} threshold={0.1} delay={delay-${index * 100 > 500 ? 500 : index * 100}}>
                                        <FeatureCard icon={item.icon} title={item.title} desc={item.desc} />
                                    </AnimatedSection>
                                ))}
                            </div>
                             <div className="text-center mt-8 sm:mt-10">
                                <button
                                    onClick={() => openOrderForm('1unit')}
                                    className="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-7 py-2.5 sm:px-8 sm:py-3 rounded-lg hover:from-green-600 hover:to-emerald-700 font-semibold text-base sm:text-lg transition duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
                                >
                                    <i className="fas fa-shopping-basket mr-2"></i> একটি স্টাইলিশ ছাতা কিনুন
                                </button> {/* Updated Button Text */}
                            </div>
                        </section>
                    </AnimatedSection>

                    <AnimatedSection threshold={0.05}>
                        <footer className="bg-gradient-to-t from-green-800 via-emerald-700 to-green-700 text-gray-200 py-6 sm:py-8 relative overflow-hidden">
                            <div className="absolute inset-0" style={{ backgroundImage: url('${imageSources.transparentLeavesPattern}'), opacity: 0.06 }}></div>
                            <div className="container mx-auto text-center relative z-10 px-4">
                                <img src={imageSources.logo} alt="Khulnarshop.xyz Logo" className="w-16 h-16 mx-auto mb-2 rounded-full shadow-md border-2 border-green-400/70" /> {/* Consider updating logo image & alt */}
                                <h4 className="text-lg font-semibold text-white mb-0.5 font-['Noto_Serif_Bengali']">Khulnarshop.xyz</h4> {/* Updated Name */}
                                <p className="text-xs text-green-300 mb-2">স্টাইলিশ ও আধুনিক ছাতার বিশ্বস্ত ঠিকানা</p> {/* Updated Tagline */}
                                
                                <div className="flex justify-center items-center space-x-4 mb-3">
                                    <a href={https://wa.me/88${contactPhoneNumber}?text=Khulnarshop.xyz%20site%20feedback} target="_blank" rel="noopener noreferrer" className="text-green-200 hover:text-white transition-colors duration-300 text-xl">
                                        <i className="fab fa-whatsapp"></i>
                                    </a>
                                    <a href={tel:+88${contactPhoneNumber}} className="text-green-200 hover:text-white transition-colors duration-300 text-lg">
                                        <i className="fas fa-phone-alt"></i>
                                    </a>
                                </div>
                                
                                <p className="text-xs sm:text-sm text-gray-300">© {new Date().getFullYear()} Khulnarshop.xyz. সর্বস্বত্ব সংরক্ষিত।</p> {/* Updated Name */}
                                <p className="text-xs text-green-400/80 mt-1">
                                    <strong className="font-semibold text-green-200 mr-1">ডেভেলপার:</strong>
                                    <a href="https://wa.me/8801647431836?text=Website%20Development%20Query" target="_blank" rel="noopener noreferrer" className="hover:text-white underline">যোগাযোগ করুন</a>
                                </p>
                            </div>
                        </footer>
                    </AnimatedSection>

                    <OrderForm isOpen={isFormOpen} onClose={closeOrderForm} recommendedUnits={aiRecommendedUnits} />
                </div>
                <MobileBottomNav />
            </React.Fragment>
        );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
</script>
<style type="text/css">@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css');
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.6s ease-in-out forwards; }
        
        body { 
            -webkit-font-smoothing: antialiased; 
            -moz-osx-font-smoothing: grayscale;
            margin: 0;
        }
        #root {
            width: 100%;
        }
        .font-['Noto_Serif_Bengali'] { font-family: 'Noto Serif Bengali', serif; }
        .font-['Hind_Siliguri'] { font-family: 'Hind Siliguri', sans-serif; }
        
        .peer:focus ~ label, .peer:not(:placeholder-shown) ~ label {
            transform: translateY(-0.7rem) translateX(-0.1rem) scale(0.80);
            color: #166534; 
            background-color: white; 
            padding: 0 0.2rem;
            font-weight: 500;
        }
        .bg-white\/95.backdrop-blur-md .peer:focus ~ label,
        .bg-white\/95 .peer:focus ~ label {
             background-color: #f9fafb; 
        }
         .fixed.inset-0.bg-black\/80 .peer:focus ~ label {
            background-color: rgba(249, 250, 251, 0.95); 
         }

        .overflow-x-auto::-webkit-scrollbar { height: 6px; }
        .overflow-x-auto::-webkit-scrollbar-track { background: #ecfdf5; border-radius: 8px; }
        .overflow-x-auto::-webkit-scrollbar-thumb { background: #6ee7b7; border-radius: 8px; }
        .overflow-x-auto::-webkit-scrollbar-thumb:hover { background: #34d399; }

        .shadow-top-lg {
            box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1), 0 -2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* Initial Page Load Animations */
        .initial-fade-in-up {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUpAnimation 0.7s ease-out forwards;
        }
        .initial-scale-up {
            opacity: 0;
            transform: scale(0.95);
            animation: scaleUpAnimation 0.7s ease-out forwards;
        }
        
        /* Delay classes for initial animations (can be extended in tailwind.config.js if needed) */
        .initial-delay-200 { animation-delay: 0.2s; }
        .initial-delay-400 { animation-delay: 0.4s; }


        @keyframes fadeInUpAnimation {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        @keyframes scaleUpAnimation {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* TailwindCSS standard delay classes that can be used with AnimatedSection's delay prop:
           delay-75, delay-100, delay-150, delay-200, delay-300, delay-500, delay-700, delay-1000
           Example: <AnimatedSection delay="delay-200">...</AnimatedSection>
        */

</style>

</body>
</html>
